# Инструкции по работе с Git

В данном разделе описана типичная последовательность действий, которую
необходимо выполнить перед тем, как начать работать с проектом. Далее
для определенности используется репозиторий `mp2-lab1-set`.

## Первичная настройка Git

  1. Инсталлировать клиент Git:
     - [Git](https://git-scm.com/downloads)
     - [GitHub Desktop](https://desktop.github.com)

  1. Настроить имя пользователя, из под которого будут выполняться все операции
     с репозиториями Git:

  ```bash
  $ git config --global user.name  "Your Name"
  $ git config --global user.email "your.email@mail.com"
  ```

# Клонирование репозитория с проектом-шаблоном

  1. Создать аккаунт на [github.com](https://github.com), если такой
     отсутствует. Для определенности обозначим аккаунт `GITHUB-ACCOUNT`.

  1. Открыть в браузере репозиторий по адресу <https://github.com/UNN-VMK-Software/mp2-lab1-set>.

  1. Сделать fork [репозитория][upstream] c проектом-шаблоном (в терминологии
     Git `upstream`-репозиторий) к себе в личный профиль с названием
     `GITHUB-ACCOUNT` (см. одноименную кнопку на странице репозитория). В результате будет создана копия репозитория с названием
     <https://github.com/github-account/mp2-lab1-set> (`origin`-репозиторий).

  1. Клонировать `origin` репозиторий к себе на локальный компьютер,
     воспользовавшись следующей командой:

  ```bash
  $ git clone https://github.com/GITHUB-ACCOUNT/mp2-lab1-set
  ```

  1. Перейти в директорию `mp2-lab1-set`:

  ```bash
  $ cd ./mp2-lab1-set
  ```

## Внесение изменений, их регистрация и публикация

Когда сделан fork репозитория, по умолчанию у вас создается единственная ветка
`master`. При решении независимых задач следует создавать рабочие ветки.

  1. Получить список веток:

  ```bash
  $ git branch [-v]
  # [-v] - список с информацией о последних коммитах
  ```

  1. Создать ветку:

  ```bash
  $ git branch bitfield-implementation
  ```

  1. Создать ветку `bitfield-implementation` и перейти в нее:

  ```bash
  $ git checkout [-b] bitfield-implementation
  # [-b] - создание и переход в ветку <branch_name>
  ```

При работе с файлами в ветке необходимо управлять изменениями. Далее приведен
перечень основных команд в предположении, что текущей рабочей веткой
является `master`.

  1. Получить список текущих изменений:

  ```bash
  $ git status
  ```

  1. Пометить файл как добавленный в текущую ветку репозитория (файл будет
     добавлен после выполнения команды `git commit`):

  ```bash
  $ git add [<file_name>]
  # <file_name> - название файла для добавления в commit
  #  если вместо имени указан символ *, то будут добавлены все новые файлы,
  #  расширение которых не указано в .gitignore
  ```

  1. Добавить изменения в текущую ветку локального репозитория:

  ```bash
  $ git commit [-m "Some comment for your changes"] [-a]
  # [-a] - автоматически добавляет изменения для существующих на сервере файлов
  #  без выполнения команды git add
  # [--amend] - перезаписывает последний коммит (используется, если не забыты
  #  изменения)
  ```

  1. Разместить изменения, которые были добавлены в локальный репозиторий
     с помощью команды `git push`:

  ```bash
  $ git push origin HEAD
  ```

## Создание pull-request

Чтобы обеспечить возможность удаленной проверки работы (включая автоматический
запуск и проверку корректности тестов), необходимо создать Pull Request
в `upstream`-репозиторий:

  1. Открыть в браузере <https://github.com/GITHUB-ACCOUNT/mp2-lab1-set>.
  2. Нажать кнопку Pull Request в строке над исходными кодами, содержащей
     информацию о последних коммитах.

После этого вы можете добавлять коммиты в локальную ветку. Если после этого вы
снова выполните команду `git push`, то содержимое pull request автоматически
обновится. Так вы сможете итеративно доводить свою работу до конца, просматривая
изменения онлайн.

<!-- LINKS -->

[upstream]:   https://github.com/UNN-VMK-Software/mp2-lab1-set
